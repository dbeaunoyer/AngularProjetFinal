{"ast":null,"code":"import { DialogForfaitsComponent } from '../dialog-forfaits/dialog-forfaits.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/forfait.service\";\nimport * as i2 from \"@angular/material/dialog\";\nimport * as i3 from \"@angular/material/table\";\nimport * as i4 from \"@angular/material/button\";\n\nfunction TableauForfaitsComponent_th_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 15);\n    i0.ɵɵtext(1, \" id \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction TableauForfaitsComponent_td_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 16);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const forfait_r17 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", forfait_r17.id, \" \");\n  }\n}\n\nfunction TableauForfaitsComponent_th_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 15);\n    i0.ɵɵtext(1, \" Date de d\\u00E9part \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction TableauForfaitsComponent_td_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 16);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const forfait_r18 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", forfait_r18.datedepart, \" \");\n  }\n}\n\nfunction TableauForfaitsComponent_th_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 15);\n    i0.ɵɵtext(1, \" Date de retour \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction TableauForfaitsComponent_td_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 16);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const forfait_r19 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", forfait_r19.dateretour, \" \");\n  }\n}\n\nfunction TableauForfaitsComponent_th_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 15);\n    i0.ɵɵtext(1, \" Destination \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction TableauForfaitsComponent_td_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 16);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const forfait_r20 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", forfait_r20.destination, \" \");\n  }\n}\n\nfunction TableauForfaitsComponent_th_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 15);\n    i0.ɵɵtext(1, \" Ville Depart \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction TableauForfaitsComponent_td_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 16);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const forfait_r21 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", forfait_r21.villedepart, \" \");\n  }\n}\n\nfunction TableauForfaitsComponent_th_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 15);\n    i0.ɵɵtext(1, \" Nom de l'h\\u00F4tel \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction TableauForfaitsComponent_td_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 16);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const forfait_r22 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", forfait_r22.hotel.nom, \" \");\n  }\n}\n\nfunction TableauForfaitsComponent_th_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"th\", 15);\n  }\n}\n\nfunction TableauForfaitsComponent_td_25_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r25 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"td\", 17);\n    i0.ɵɵelementStart(1, \"button\", 18);\n    i0.ɵɵlistener(\"click\", function TableauForfaitsComponent_td_25_Template_button_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r25);\n      const forfait_r23 = restoredCtx.$implicit;\n      const ctx_r24 = i0.ɵɵnextContext();\n      return ctx_r24.onSelect(forfait_r23);\n    });\n    i0.ɵɵelement(2, \"i\", 19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 18);\n    i0.ɵɵlistener(\"click\", function TableauForfaitsComponent_td_25_Template_button_click_3_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r25);\n      const forfait_r23 = restoredCtx.$implicit;\n      const ctx_r26 = i0.ɵɵnextContext();\n      return ctx_r26.onDelete(forfait_r23);\n    });\n    i0.ɵɵelement(4, \"i\", 20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction TableauForfaitsComponent_tr_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 21);\n  }\n}\n\nfunction TableauForfaitsComponent_tr_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 22);\n  }\n}\n\nexport let TableauForfaitsComponent = /*#__PURE__*/(() => {\n  class TableauForfaitsComponent {\n    constructor(forfaitService, dialog) {\n      this.forfaitService = forfaitService;\n      this.dialog = dialog;\n      this.forfaits = [];\n      this.columnsToDisplay = ['id', 'villedepart', 'destination', 'datedepart', 'dateretour', 'nomHotel', 'actions'];\n    }\n\n    ngOnInit() {\n      this.getForfaits();\n    }\n\n    getForfaits() {\n      this.forfaitService.getForfaits().subscribe(res => this.forfaits = res);\n    }\n\n    onSelect(forfait) {\n      if (!forfait) {\n        this.forfaitSelected = {\n          id: '',\n          destination: '',\n          villedepart: '',\n          hotel: {\n            nom: '',\n            coordonnees: '',\n            etoiles: 0,\n            chambres: 0,\n            caracteristiques: ['', '']\n          },\n          datedepart: '',\n          dateretour: '',\n          prix: 0,\n          rabais: 0,\n          vedette: false\n        };\n        console.log(this.forfaitSelected);\n      } else {\n        this.forfaitSelected = forfait;\n        console.log(this.forfaitSelected);\n      }\n\n      const dialogRef = this.dialog.open(DialogForfaitsComponent, {\n        data: this.forfaitSelected\n      });\n      dialogRef.afterClosed().subscribe(_ => {\n        this.forfaitSelected = undefined;\n        this.getForfaits();\n      });\n    }\n\n    onDelete(forfait) {\n      this.forfaitService.deleteForfait(forfait.id).subscribe(_ => this.forfaits = this.forfaits.filter(p => p !== forfait));\n    }\n\n  }\n\n  TableauForfaitsComponent.ɵfac = function TableauForfaitsComponent_Factory(t) {\n    return new (t || TableauForfaitsComponent)(i0.ɵɵdirectiveInject(i1.ForfaitService), i0.ɵɵdirectiveInject(i2.MatDialog));\n  };\n\n  TableauForfaitsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: TableauForfaitsComponent,\n    selectors: [[\"app-tableau-forfaits\"]],\n    decls: 28,\n    vars: 3,\n    consts: [[1, \"ajout\", \"container\", 3, \"click\"], [\"mat-table\", \"\", 1, \"container\", \"tableau\", 3, \"dataSource\"], [\"forfaitsTable\", \"\"], [\"matColumnDef\", \"id\"], [\"mat-header-cell\", \"\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", 4, \"matCellDef\"], [\"matColumnDef\", \"datedepart\"], [\"matColumnDef\", \"dateretour\"], [\"matColumnDef\", \"destination\"], [\"matColumnDef\", \"villedepart\"], [\"matColumnDef\", \"nomHotel\"], [\"matColumnDef\", \"actions\"], [\"mat-cell\", \"\", \"class\", \"boutonsAction\", 4, \"matCellDef\"], [\"mat-header-row\", \"\", 4, \"matHeaderRowDef\"], [\"mat-row\", \"\", 4, \"matRowDef\", \"matRowDefColumns\"], [\"mat-header-cell\", \"\"], [\"mat-cell\", \"\"], [\"mat-cell\", \"\", 1, \"boutonsAction\"], [\"mat-button\", \"\", 3, \"click\"], [1, \"bi\", \"bi-pencil-square\"], [1, \"bi\", \"bi-shield-x\"], [\"mat-header-row\", \"\"], [\"mat-row\", \"\"]],\n    template: function TableauForfaitsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"body\");\n        i0.ɵɵelementStart(1, \"button\", 0);\n        i0.ɵɵlistener(\"click\", function TableauForfaitsComponent_Template_button_click_1_listener() {\n          return ctx.onSelect(undefined);\n        });\n        i0.ɵɵtext(2, \"Ajouter forfait\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"table\", 1, 2);\n        i0.ɵɵelementContainerStart(5, 3);\n        i0.ɵɵtemplate(6, TableauForfaitsComponent_th_6_Template, 2, 0, \"th\", 4);\n        i0.ɵɵtemplate(7, TableauForfaitsComponent_td_7_Template, 2, 1, \"td\", 5);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(8, 6);\n        i0.ɵɵtemplate(9, TableauForfaitsComponent_th_9_Template, 2, 0, \"th\", 4);\n        i0.ɵɵtemplate(10, TableauForfaitsComponent_td_10_Template, 2, 1, \"td\", 5);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(11, 7);\n        i0.ɵɵtemplate(12, TableauForfaitsComponent_th_12_Template, 2, 0, \"th\", 4);\n        i0.ɵɵtemplate(13, TableauForfaitsComponent_td_13_Template, 2, 1, \"td\", 5);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(14, 8);\n        i0.ɵɵtemplate(15, TableauForfaitsComponent_th_15_Template, 2, 0, \"th\", 4);\n        i0.ɵɵtemplate(16, TableauForfaitsComponent_td_16_Template, 2, 1, \"td\", 5);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(17, 9);\n        i0.ɵɵtemplate(18, TableauForfaitsComponent_th_18_Template, 2, 0, \"th\", 4);\n        i0.ɵɵtemplate(19, TableauForfaitsComponent_td_19_Template, 2, 1, \"td\", 5);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(20, 10);\n        i0.ɵɵtemplate(21, TableauForfaitsComponent_th_21_Template, 2, 0, \"th\", 4);\n        i0.ɵɵtemplate(22, TableauForfaitsComponent_td_22_Template, 2, 1, \"td\", 5);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(23, 11);\n        i0.ɵɵtemplate(24, TableauForfaitsComponent_th_24_Template, 1, 0, \"th\", 4);\n        i0.ɵɵtemplate(25, TableauForfaitsComponent_td_25_Template, 5, 0, \"td\", 12);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵtemplate(26, TableauForfaitsComponent_tr_26_Template, 1, 0, \"tr\", 13);\n        i0.ɵɵtemplate(27, TableauForfaitsComponent_tr_27_Template, 1, 0, \"tr\", 14);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"dataSource\", ctx.forfaits);\n        i0.ɵɵadvance(23);\n        i0.ɵɵproperty(\"matHeaderRowDef\", ctx.columnsToDisplay);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"matRowDefColumns\", ctx.columnsToDisplay);\n      }\n    },\n    directives: [i3.MatTable, i3.MatColumnDef, i3.MatHeaderCellDef, i3.MatCellDef, i3.MatHeaderRowDef, i3.MatRowDef, i3.MatHeaderCell, i3.MatCell, i4.MatButton, i3.MatHeaderRow, i3.MatRow],\n    styles: [\".ajout[_ngcontent-%COMP%]{color:#fff;font-size:25px;border-radius:12px;border:5px black solid;background:rgb(30,18,215);background:linear-gradient(90deg,rgba(30,18,215,1) 0%,rgba(0,156,189,1) 60%,rgba(0,212,255,.27494747899159666) 100%)}body[_ngcontent-%COMP%]{text-align:center;background:linear-gradient(to bottom,#0066ff 25%,#ffffff 75%)fixed}.tableau[_ngcontent-%COMP%]{border-radius:12px;border:5px black solid;background:rgb(30,18,215);background:linear-gradient(90deg,rgba(30,18,215,1) 0%,rgba(0,156,189,1) 60%,rgba(0,212,255,.27494747899159666) 100%)}[_nghost-%COMP%]     .mat-sort-header-container{display:flex;justify-content:center}th.mat-header-cell[_ngcontent-%COMP%], td.mat-cell[_ngcontent-%COMP%]{text-align:center}th.mat-header-cell[_ngcontent-%COMP%]{font-weight:700;font-size:15px;border-bottom:5px black solid}\"]\n  });\n  return TableauForfaitsComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}